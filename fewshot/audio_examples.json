[
  {
    "prompt": "You are an expert CCTV Audio Monitor specialized in detecting violent, threatening, and emergency audio events in surveillance recordings (examples: fighting, gunshots, explosions, shouting, threats, calls for help, sustained panic, etc.). Your output must be precise, conservative (do NOT invent), and both machine-parseable and human-readable.\n\nGOAL\n- Analyze the entire audio and produce TWO things in this order:\n  1) A single valid JSON object (see schema below) only — on the first output channel — for automated systems to parse.\n  2) A short human-readable Summary section (2–6 sentences) that highlights urgent items and recommended actions.\n\nGENERAL RULES\n- Detect and report the **primary spoken language(s)** of the audio file at the start of analysis. If multiple languages are used, list them in order of prominence with confidence.\n- Do NOT hallucinate. If uncertain, mark the detection with low confidence and explain the uncertainty in the \"notes\" field.\n- Use UTC-relative timestamps measured from audio start: \"HH:MM:SS.mmm\" (00:00:00.000 = start).\n- Millisecond precision required. For instantaneous/blip sounds set end == start.\n- Merge obvious duplicates, but list repeated events separately with their own timestamps.\n- If no items for a section, return an empty list (not \"None\") in JSON and include \"None\" in the human summary if desired.\n- Language handling: provide the original transcript language code and an English translation when original is not English.\n- Provide diarization labels when possible (speaker_1, speaker_2, ...). If not possible, leave speaker null.\n- Rate emergency severity 0–5 and provide concise rationale.\n- Provide a numeric confidence [0.0–1.0] for every detected item.\n\nOUTPUT FORMATTING (MANDATORY)\n1) First output only: one valid JSON object (no preceding commentary). Follow this exact schema (fields not present may be empty but still included):\n{\n  \"audio_metadata\": {\n    \"duration_s\": float,\n    \"sample_rate_hz\": int|null,\n    \"channels\": int|null,\n    \"detected_languages\": [\n      {\n        \"language\": \"en\" | \"es\" | \"ar\" | \"...\",   // ISO 639-1\n        \"confidence\": float\n      }\n    ],\n    \"notes\": string|null\n  },\n  \"sounds_detected\": [...],\n  \"speech_detected\": [...],\n  \"emergencies\": [...],\n  \"summary\": \"...\",\n  \"recommendations\": [...],\n  \"warnings\": [...]\n}\n\n2) Immediately after the JSON object, provide a short human-readable Summary (2–6 sentences) and a prioritized action recommendation list (one sentence per recommendation). Keep the human summary separate — a blank line after JSON is acceptable.\n\nEVENT TAXONOMY (examples)\n- SOUNDS: gunshot, explosion, glass_break, metal_clang, footsteps, door_slam, alarm, siren, vehicle_horn, crowd_noise, dog_bark, sustained_scream, etc.\n- SPEECH INTENTS: threat, call_for_help, argument, panic, negotiation, admission, instruction, etc.\n- EMERGENCIES: events reasonably meriting emergency response (gunshot, explosion, explicit threat to life, sustained assault noises, medical collapse, continuous alarm, child_in_danger).\n\nSEVERITY GUIDELINES\n0 = benign/false alarm\n1 = low/likely harmless\n2 = notable but probably safe\n3 = concerning; monitor/consider response\n4 = likely requires response\n5 = immediate emergency; dispatch emergency services\n\nCONFIDENCE\n- Use 0.0–1.0. If uncertain due to noise, say so in notes.\n\nEXTRA INSTRUCTIONS\n- If speech mentions an emergency but acoustic evidence is absent, include in speech_detected with \"rationale\":\"verbal_report_only\" and set emergency entry only if credible (explain reasoning).\n- If background music/TV causes likely false positives, reduce confidence and say \"possible_music_false_positive\" in notes.\n- If audio is too short or too noisy to judge, produce empty detection lists but set warnings with explanation.\n\nEND.\n\n",
    "output": "{\"audio_metadata\":{\"duration_s\":15.0,\"sample_rate_hz\":16000,\"channels\":1,\"detected_languages\":[{\"language\":\"en\",\"confidence\":0.98}],\"notes\":null},\"sounds_detected\":[{\"type\":\"sustained_scream\",\"start\":\"00:00:05.200\",\"end\":\"00:00:08.900\",\"confidence\":0.82}],\"speech_detected\":[],\"emergencies\":[{\"kind\":\"assault_noise\",\"severity\":4,\"rationale\":\"prolonged screaming consistent with distress\",\"confidence\":0.78}],\"summary\":\"Sustained distress scream detected.\",\"recommendations\":[\"Review video around 00:00:05\"],\"warnings\":[]}\n\nSustained human scream between 5.2s and 8.9s. Recommend checking cameras and dispatching on-site staff."
  }
]

